<template>
  <q-icon
    class="cursor-pointer q-pl-sm"
    name="content_copy"
    size="xs"
    @click.stop="copy(text)"
  />
</template>

<script lang="ts" setup>
import { copyToClipboard, Notify } from 'quasar';

interface Props {
  text: string;
}

withDefaults(defineProps<Props>(), {
  text: '',
});

const copy = (text: string) => {
  copyToClipboard(text)
    .then(() => {
      Notify.create({
        message: 'â˜ºï¸ Ð¢ÐµÐºÑÑ‚ ÑƒÑÐ¿ÐµÑˆÐ½Ð¾ ÑÐºÐ¾Ð¿Ð¸Ñ€Ð¾Ð²Ð°Ð½',
        color: 'positive',
        timeout: 1000,
      });
    })
    .catch(() => {
      Notify.create({
        message: 'Ð§Ñ‚Ð¾-Ñ‚Ð¾ Ð¿Ð¾ÑˆÐ»Ð¾ Ð½Ðµ Ñ‚Ð°ÐºðŸ˜ž...',
        color: 'negative',
        timeout: 1000,
      });
    });
};
</script>

<style scoped></style>
