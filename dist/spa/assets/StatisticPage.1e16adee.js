import{j as T,b as L,a as I}from"./QCard.440d414a.js";import{Q as $,$ as F}from"./QInput.76567d60.js";import{Q as P,a as O,b as V,j as D,T as j}from"./TableSkeleton.772c2dc2.js";import{j as g,r as n,a as k,m as e,n as d,p as l,ae as N,q as i,A as o,B as x,F as v,t as A,u as f,z as q,Q as z,y as w,ac as C,aN as M,aO as U}from"./index.327b4700.js";import{e as G}from"./helpers.5a00600a.js";import{_ as Q}from"./plugin-vue_export-helper.21dcd24c.js";import"./use-dark.5b66a423.js";import"./QItem.cb161c91.js";import"./axios.4e4c9ce2.js";import"./QList.421edf4a.js";const H=g({__name:"TableStatisticsByCity",props:{list:{default:()=>[]},hiddenFields:{},pagination:{},mode:{},loading:{type:Boolean,default:!1}},emits:["selectPage","update"],setup(t,{emit:r}){const a=t,s=n([]),u=n(""),c=n(!1),_=n(!1),y=k(()=>c.value||a.loading),h=S=>{u.value=S,c.value=!0;const B=()=>{s.value=[],c.value=!1};if(!u.value){B();return}s.value=a.list.filter(p=>p.name.toLowerCase().includes(u.value.toLowerCase())),c.value=!1},E=async()=>{_.value=!0,await G(D,b.value),_.value=!1},b=k(()=>u.value?s.value:a.list);return(S,B)=>(e(),d(P,{key:S.pagination,columns:N(D),loading:y.value,rows:b.value,"rows-per-page-options":[10],class:"table","row-key":"name",title:"\u0421\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043A\u0430 \u043F\u043E \u0433\u043E\u0440\u043E\u0434\u0430\u043C"},{body:l(p=>[i(V,{props:p,class:"table-order__row"},{default:l(()=>[(e(!0),o(v,null,x(p.cols,m=>(e(),d(O,{key:m.name,props:p},{default:l(()=>[m.name==="totalPrice"||m.name==="totalCommission"?(e(),o(v,{key:0},[A(f(m.value.toLocaleString())+" \u20BD ",1)],64)):(e(),o(v,{key:1},[A(f(m.value.toLocaleString()),1)],64))]),_:2},1032,["props"]))),128))]),_:2},1032,["props"])]),"top-right":l(()=>[i(q,{disable:!b.value.length,loading:_.value,color:"primary","icon-right":"archive",label:"\u042D\u043A\u0441\u043F\u043E\u0440\u0442 \u0432 csv","no-caps":"",onClick:E},null,8,["disable","loading"])]),"top-left":l(()=>[i($,{"model-value":u.value,debounce:"300",dense:"",outlined:"",placeholder:"\u041F\u043E\u0438\u0441\u043A \u043F\u043E \u043D\u0430\u0437\u0432\u0430\u043D\u0438\u044E \u0433\u043E\u0440\u043E\u0434\u0430",standout:"","onUpdate:modelValue":h},{append:l(()=>[i(z,{name:"search"})]),_:1},8,["model-value"])]),_:1},8,["columns","loading","rows"]))}}),J=g({__name:"ByCity",setup(t){const r=n(),a=n(!1),s=n(!0);return w(()=>{F.getStatisticsByCity(u=>{r.value=u,s.value=!1},u=>{s.value=!1})}),(u,c)=>(e(),o("div",null,[s.value?(e(),d(j,{key:0,title:"\u0421\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043A\u0430"})):(e(),d(H,{key:1,list:r.value,loading:a.value},null,8,["list","loading"]))]))}});const K={class:"stats"},R={class:"text-uppercase text-primary"},W=g({__name:"AllStatistic",setup(t){const r=n(),a={totalOrders:"\u0412\u0441\u0435\u0433\u043E \u0437\u0430\u043A\u0430\u0437\u043E\u0432",totalCancelOrders:"\u041E\u0442\u043C\u0435\u043D\u0435\u043D\u043D\u044B\u0445 \u0437\u0430\u043A\u0430\u0437\u043E\u0432",totalSuccess:"\u0423\u0441\u043F\u0435\u0448\u043D\u044B\u0445 \u0437\u0430\u043A\u0430\u0437\u043E\u0432",totalDriverOrders:"\u0412\u0441\u0435\u0433\u043E \u043F\u043E\u0435\u0437\u0434\u043E\u043A",totalDeliveryOrders:"\u0412\u0441\u0435\u0433\u043E \u0434\u043E\u0441\u0442\u0430\u0432\u043E\u043A",totalPrice:"\u0421\u0442\u043E\u0438\u043C\u043E\u0441\u0442\u044C \u0432\u0441\u0435\u0445 \u043F\u043E\u0435\u0437\u0434\u043E\u043A",totalCommission:"\u0417\u0430\u0440\u0430\u0431\u043E\u0442\u0430\u043D\u043E"},s={all:"\u0417\u0430 \u0432\u0441\u0435 \u0432\u0440\u0435\u043C\u044F",month:"\u0417\u0430 \u043C\u0435\u0441\u044F\u0446",today:"\u0417\u0430 \u0441\u0435\u0433\u043E\u0434\u043D\u044F",week:"\u0417\u0430 \u043D\u0435\u0434\u0435\u043B\u044E"};return w(()=>{F.getAllStatistic(u=>{console.log(u),r.value=u},u=>{console.log(u)})}),(u,c)=>(e(),o("div",K,[(e(!0),o(v,null,x(r.value,(_,y)=>(e(),o("div",{key:y,class:"stats-block"},[C("h4",R,[C("b",null,f(s[y]),1)]),(e(!0),o(v,null,x(_,(h,E)=>(e(),o("div",{key:E,class:"stats-item"},[C("b",null,f(a[E]),1),A(" : "+f(h.toLocaleString()),1)]))),128))]))),128))]))}});var X=Q(W,[["__scopeId","data-v-6b4276ac"]]);const Y=t=>(M("data-v-7d61fba9"),t=t(),U(),t),Z=Y(()=>C("h2",{class:"card__title",textContent:"\u0421\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043A\u0430"},null,-1)),uu=g({name:"StatisticComponent",__name:"index",setup(t){return n(!1),(r,a)=>(e(),d(T,{class:"card"},{default:l(()=>[i(L,null,{default:l(()=>[Z,i(X),i(J)]),_:1})]),_:1}))}});var eu=Q(uu,[["__scopeId","data-v-7d61fba9"]]);const _u=g({__name:"StatisticPage",setup(t){return(r,a)=>(e(),d(I,{class:"row justify-evenly items-start q-pa-lg"},{default:l(()=>[i(eu)]),_:1}))}});export{_u as default};
