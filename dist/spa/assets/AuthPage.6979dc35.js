import{Q as p,$ as g}from"./QInput.76567d60.js";import{j as b,x as E,r,v as w,m as y,A as B,ac as m,q as i,aJ as c,ad as V,z as A,aN as x,aO as I}from"./index.327b4700.js";import{_ as k}from"./plugin-vue_export-helper.21dcd24c.js";import"./axios.4e4c9ce2.js";import"./use-dark.5b66a423.js";const C=o=>(x("data-v-07cd850f"),o=o(),I(),o),D={class:"auth"},F={class:"auth__wrapper"},P=C(()=>m("h2",{class:"text-primary"},"\u0410\u0432\u0442\u043E\u0440\u0438\u0430\u0446\u0438\u044F",-1)),S=b({__name:"AuthPage",setup(o){const _=E(),s=r(""),l=r(""),u=r(!1),t=r(""),v=w(),{setAccessToken:f,setUser:h}=v,d=()=>{t.value="",!(!s.value||!l.value||u.value)&&(u.value=!0,g.login({email:s.value,password:l.value},e=>{f(e.data.access_token),h({email:e.data.email}),u.value=!1,_.push("/")},e=>{var a;u.value=!1,console.log(e),t.value=(a=e==null?void 0:e.message[0])!=null?a:"\u0427\u0442\u043E \u0442\u043E \u043F\u043E\u0448\u043B\u043E \u043D\u0435 \u0442\u0430\u043A, \u043F\u0440\u043E\u0432\u0435\u0440\u044C\u0442\u0435 \u0432\u0432\u0435\u0434\u0435\u043D\u043D\u044B\u0435 \u0432\u0430\u043C\u0438 \u0434\u0430\u043D\u043D\u044B\u0435"}))};return(e,a)=>(y(),B("div",D,[m("div",F,[P,i(p,{modelValue:s.value,"onUpdate:modelValue":a[0]||(a[0]=n=>s.value=n),modelModifiers:{trim:!0},disable:u.value,error:!!t.value,"error-message":t.value,class:"add__input",dense:"",label:"Email",outlined:""},null,8,["modelValue","disable","error","error-message"]),i(p,{modelValue:l.value,"onUpdate:modelValue":a[1]||(a[1]=n=>l.value=n),modelModifiers:{trim:!0},disable:u.value,class:"add__input",dense:"",label:"\u041F\u0430\u0440\u043E\u043B\u044C",outlined:"",type:"password",onKeyup:c(d,["enter"])},null,8,["modelValue","disable"]),i(A,{disable:u.value||!s.value||!l.value,class:"add__button full-width q-mt-sm",color:"primary",label:"\u0412\u043E\u0439\u0442\u0438",standout:"",unelevated:"",onClick:V(d,["stop"]),onKeyup:c(d,["enter"])},null,8,["disable"])])]))}});var q=k(S,[["__scopeId","data-v-07cd850f"]]);export{q as default};
