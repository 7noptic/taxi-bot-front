import{ab as p}from"./index.327b4700.js";function d(e){setTimeout(()=>{window.URL.revokeObjectURL(e.href)},1e4),e.remove()}function m(e,a,i={}){const{mimeType:t,byteOrderMark:u,encoding:o}=typeof i=="string"?{mimeType:i}:i,r=o!==void 0?new TextEncoder(o).encode([a]):a,s=u!==void 0?[u,r]:[r],l=new Blob(s,{type:t||"application/octet-stream"}),n=document.createElement("a");n.href=window.URL.createObjectURL(l),n.setAttribute("download",e),typeof n.download=="undefined"&&n.setAttribute("target","_blank"),n.classList.add("hidden"),n.style.position="fixed",document.body.appendChild(n);try{return n.click(),d(n),!0}catch(f){return d(n),f}}const c=(e,a,i)=>{let t=a!==void 0&&i?a(e,i):e;return t=t==null?"":String(t),t=t.split('"').join('""'),`"${t}"`},y=async(e,a)=>{const i=[e.map(u=>c(u.label))].concat(a.map(u=>e.map(o=>c(typeof o.field=="function"?o.field(u):u[o.field===void 0?o.name:o.field],o.format,u)).join(","))).join(`\r
`);m("table-export.csv",i,"text/csv")!==!0&&p.create({message:"\u041E\u0448\u0438\u0431\u043A\u0430 \u0441\u043A\u0430\u0447\u0438\u0432\u0430\u043D\u0438\u044F \u0444\u0430\u0439\u043B\u0430..",color:"negative",timeout:1e3,icon:"warning"})};export{y as e};
